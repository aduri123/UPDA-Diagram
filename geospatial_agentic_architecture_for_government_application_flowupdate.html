<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Geospatial Agentic Architecture for Government — Application Flow (Update)</title>
  <meta name="description" content="Application Flow for a Geospatial Agentic Architecture using ArcGIS, MCP, RAG, Knowledge Graph, and SDI — modern gradient design." />

  <!-- Tailwind (CDN) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            sans: ["Inter","ui-sans-serif","system-ui","-apple-system","Segoe UI","Roboto","Ubuntu","Cantarell","Noto Sans","Helvetica Neue","Arial","sans-serif"],
          },
          boxShadow: {
            soft: "0 6px 22px rgba(2,6,23,.06)",
            glow: "0 0 0 3px rgba(59,130,246,.12)",
          },
          colors: {
            brandA: "#10b981", /* emerald */
            brandB: "#ec4899", /* fuchsia/rose */
            brandC: "#8b5cf6", /* violet */
            brandD: "#64748b"  /* slate */
          }
        }
      }
    }
  </script>

  <!-- Inter Font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet" />

  <!-- Lucide Icons -->
  <script src="https://unpkg.com/lucide@latest"></script>

  <style>
    .glass { background: linear-gradient(180deg, rgba(255,255,255,.92), rgba(255,255,255,.98)); backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px); }
    .card { border: 1px solid rgba(2,6,23,.08); box-shadow: var(--tw-shadow,0 6px 22px rgba(2,6,23,.06)); border-radius: 1rem; }
    .pill { border: 1px solid rgba(2,6,23,.10); border-radius: 9999px; }
    .ribbon { display:inline-flex; align-items:center; gap:.5rem; padding:.35rem .75rem; border-radius:.625rem; background:#f8fafc; border:1px solid rgba(2,6,23,.10); font-weight:500; }
    .btn-grad { background: linear-gradient(90deg,#10b981,#ec4899,#8b5cf6,#64748b); }
  </style>
</head>
<body class="bg-gradient-to-b from-slate-50 via-white to-slate-50 text-slate-800 font-sans">
  <!-- Header (gradient like your Development Flow page) -->
  <header class="bg-gradient-to-r from-brandA via-brandB to-brandC text-white">
    <div class="max-w-[1600px] mx-auto px-6 sm:px-8 lg:px-10 py-10">
      <div class="flex items-center justify-center gap-3">
        <div class="shrink-0 rounded-2xl bg-white/15 p-3 ring-1 ring-white/25">
          <i data-lucide="globe-2" class="w-7 h-7 text-white"></i>
        </div>
        <h1 class="text-3xl md:text-4xl font-bold tracking-tight text-white drop-shadow">
          Geospatial Agentic Architecture for Government — Application Flow
        </h1>
      </div>
      <p class="text-sm md:text-base text-white/90 mt-3 leading-relaxed max-w-4xl mx-auto text-center">
        Covers <b>ArcGIS</b>, <b>MCP</b>, <b>RAG</b>, <b>Knowledge Graph</b>, <b>SDI</b> — applied across
        Urban Analytics, Land Registry, Real Estate, Permits, Public Works, Inspections, Citizen Services.
      </p>
      <div class="mt-5 flex justify-center">
        <span class="inline-flex items-center gap-2 pill bg-white/90 text-slate-800 shadow-soft px-4 py-1.5 text-xs font-medium">
          <i data-lucide="user" class="w-3.5 h-3.5"></i>
          Aduri Sreenivas · MicroCenter Gulf
        </span>
      </div>
    </div>
  </header>

  <main class="max-w-[1600px] mx-auto px-6 sm:px-8 lg:px-10 py-10">
    <!-- Legend -->
    <section class="mb-8">
      <div class="grid grid-cols-2 md:grid-cols-5 gap-2">
        <span class="pill rounded-full px-3 py-1 text-xs bg-indigo-50 text-indigo-800">GenAI & GeoAI Agents (Reasoning & Generation)</span>
        <span class="pill rounded-full px-3 py-1 text-xs bg-emerald-50 text-emerald-800">System & Data Integration Agents (Validation & Connectivity)</span>
        <span class="pill rounded-full px-3 py-1 text-xs bg-rose-50 text-rose-800">Security & Governance</span>
        <span class="pill rounded-full px-3 py-1 text-xs bg-violet-50 text-violet-800">Orchestration & MCP</span>
        <span class="pill rounded-full px-3 py-1 text-xs bg-sky-50 text-sky-800">ArcGIS & Data Plane</span>
      </div>
    </section>

    <!-- Government Domains -->
    <section class="mb-8">
      <div class="glass card p-5">
        <div class="ribbon mb-3">
          <i data-lucide="layers" class="w-5 h-5 text-indigo-700"></i>
          <h2 class="text-lg font-semibold">Government Domains (examples)</h2>
        </div>
        <div class="flex flex-wrap gap-2 text-xs">
          <span class="pill px-2.5 py-1 bg-indigo-50 text-indigo-800">Urban Analytics & Policy</span>
          <span class="pill px-2.5 py-1 bg-indigo-50 text-indigo-800">Urban Studies (morphology, accessibility, equity)</span>
          <span class="pill px-2.5 py-1 bg-emerald-50 text-emerald-800">Land Registry (Cadastre & Titles)</span>
          <span class="pill px-2.5 py-1 bg-rose-50 text-rose-800">Real Estate (AVM & Listings)</span>
          <span class="pill px-2.5 py-1 bg-sky-50 text-sky-800">Urban Planning & Permits</span>
          <span class="pill px-2.5 py-1 bg-emerald-50 text-emerald-800">Public Works & Assets</span>
          <span class="pill px-2.5 py-1 bg-indigo-50 text-indigo-800">Health & Safety Inspections</span>
          <span class="pill px-2.5 py-1 bg-violet-50 text-violet-800">Emergency & Incident Response</span>
          <span class="pill px-2.5 py-1 bg-rose-50 text-rose-800">Finance & Revenues</span>
          <span class="pill px-2.5 py-1 bg-sky-50 text-sky-800">Citizen Services – Complaints / Tawasul</span>
          <span class="pill px-2.5 py-1 bg-emerald-50 text-emerald-800">Environment & Waste</span>
          <span class="pill px-2.5 py-1 bg-indigo-50 text-indigo-800">Transportation & Traffic</span>
          <span class="pill px-2.5 py-1 bg-violet-50 text-violet-800">Utilities (Water/Power)</span>
        </div>
      </div>
    </section>

    <!-- Channels + Security & Governance -->
    <section class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8 items-stretch">
      <div class="glass card p-5 h-full">
        <div class="ribbon mb-3">
          <i data-lucide="message-square" class="w-5 h-5 text-slate-700"></i>
          <h2 class="text-lg font-semibold">Channels (Entry)</h2>
        </div>
        <ul class="grid grid-cols-2 md:grid-cols-4 gap-2 text-sm">
          <li class="flex items-center gap-2"><i data-lucide="monitor" class="w-4 h-4"></i>Web</li>
          <li class="flex items-center gap-2"><i data-lucide="smartphone" class="w-4 h-4"></i>Mobile</li>
          <li class="flex items-center gap-2"><i data-lucide="message-circle" class="w-4 h-4"></i>WhatsApp</li>
          <li class="flex items-center gap-2"><i data-lucide="mic" class="w-4 h-4"></i>Voice</li>
          <li class="flex items-center gap-2 md:col-span-4"><i data-lucide="bot" class="w-4 h-4"></i>ArcGIS Pro AI Assistant with FastAPI Endpoints</li>
        </ul>
      </div>

      <div class="glass card p-5 lg:col-span-2 h-full">
        <div class="ribbon mb-3">
          <i data-lucide="shield-check" class="w-5 h-5 text-rose-700"></i>
          <h2 class="text-lg font-semibold">Security & Governance (Trust)</h2>
        </div>
        <div class="grid md:grid-cols-3 gap-4 text-sm">
          <div class="space-y-2">
            <div class="flex items-center gap-2"><i data-lucide="castle" class="w-4 h-4"></i><span>API Gateway + OAuth2/OIDC (ABAC-first, thin RBAC)</span></div>
            <div class="flex items-center gap-2"><i data-lucide="key-round" class="w-4 h-4"></i><span>Secrets/KMS, scoped MCP tokens</span></div>
          </div>
          <div class="space-y-2">
            <div class="flex items-center gap-2"><i data-lucide="clipboard-check" class="w-4 h-4"></i><span>Risk-based approvals, human-in-the-loop</span></div>
            <div class="flex items-center gap-2"><i data-lucide="alarm-clock" class="w-4 h-4"></i><span>Retention, residency, consent, audit</span></div>
          </div>
          <div class="space-y-2">
            <div class="flex items-center gap-2"><i data-lucide="languages" class="w-4 h-4"></i><span>Arabic/English policies & NER</span></div>
            <div class="flex items-center gap-2"><i data-lucide="cloud-lightning" class="w-4 h-4"></i><span>HA/DR (RTO/RPO), backup drills</span></div>
            <div class="flex items-center gap-2"><i data-lucide="file-search" class="w-4 h-4"></i><span>Auditability: traces & immutable logs</span></div>
            <div class="flex items-center gap-2"><i data-lucide="eraser" class="w-4 h-4"></i><span>Redaction & PII scrubbing policies</span></div>
            <div class="flex items-center gap-2"><i data-lucide="wallet" class="w-4 h-4"></i><span>Budgets, rate limits & ceilings</span></div>
            <div class="flex items-center gap-2"><i data-lucide="lock" class="w-4 h-4"></i><span>MCP scopes per tool/action</span></div>
          </div>
        </div>
      </div>
    </section>

    <!-- Orchestration -->
    <section class="glass card p-6 mb-8">
      <div class="ribbon mb-3">
        <i data-lucide="workflow" class="w-5 h-5 text-violet-700"></i>
        <h2 class="text-lg font-semibold">Orchestration (LangGraph + LangChain) — Control</h2>
      </div>

      <p class="text-sm text-slate-700 mb-3">
        <b>Rule of thumb:</b> Use <b>LangGraph</b> to orchestrate the DAG & control flow (branches, approvals, retries).
        Inside nodes, use <b>LangChain</b> for RAG steps, tool wrappers, retrievers. LangChain can also orchestrate simple chains; RAG can be built without it—the split keeps things clear.
      </p>

      <div class="grid md:grid-cols-2 gap-6 text-sm">
        <div>
          <h3 class="font-semibold mb-2 ribbon"><i data-lucide="git-branch" class="w-4 h-4 text-violet-700"></i>LangGraph</h3>
          <ul class="list-disc pl-5 space-y-1">
            <li>Branch & merge parallel tasks (e.g., zoning check + impact analysis) then reconcile.</li>
            <li>Human-in-the-loop approval g
