<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>UPDA – Urban Studies & Policy Planning</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; background: #fff; color: #111; }
    h1, h2 { margin-bottom: 0.5em; }
    .diagram { border: 1px solid #ddd; border-radius: 12px; padding: 10px; margin-bottom: 20px; }
    footer { margin-top: 20px; font-size: 12px; color: gray; }
  </style>
</head>
<body>
  <h1>UPDA – Urban Studies & Policy Planning</h1>
  <p>Agentic AI + GeoAI with ArcGIS (Pro, GPServer, Knowledge Graph) · English</p>

  <h2>Diagram 1 — End-to-End Architecture</h2>
  <div class="diagram">
    <svg viewBox="0 0 1200 850" width="100%" height="420" role="img" aria-label="UPDA End-to-End Architecture Diagram">
      <rect x="30" y="20" width="1140" height="70" rx="12" fill="#eef7ff" stroke="#bfdbfe"/>
      <text x="50" y="60" font-size="18" fill="#374151">Observability · Security & Governance · RBAC/ABAC · Audit</text>
      <rect x="60" y="120" width="1080" height="80" rx="18" fill="#e6f7ff" stroke="#93c5fd"/>
      <text x="80" y="160" font-size="20">User Channels — Web · Mobile · WhatsApp · Voice · ArcGIS Pro AI Assistant</text>
      <rect x="60" y="220" width="520" height="100" rx="18" fill="#f2eaff" stroke="#c4b5fd"/>
      <text x="80" y="260" font-size="18">Orchestration (LangGraph + LangChain)</text>
      <rect x="620" y="220" width="520" height="100" rx="18" fill="#fff0e6" stroke="#fdba74"/>
      <text x="640" y="260" font-size="18">MCP Server (Security Gateway)</text>
      <rect x="60" y="340" width="1080" height="100" rx="18" fill="#ebf5eb" stroke="#86efac"/>
      <text x="80" y="380" font-size="18">Agent Layer — Planning · Retrieval (RAG) · Audit · Conversation · GeoAI</text>
      <rect x="60" y="460" width="1080" height="80" rx="18" fill="#e6f7ff" stroke="#93c5fd"/>
      <text x="80" y="500" font-size="18">Integration/API — FastAPI (/simulate_zoning · /validate_permit)</text>
      <rect x="60" y="560" width="1080" height="100" rx="18" fill="#ffffe6" stroke="#fde68a"/>
      <text x="80" y="600" font-size="18">ArcGIS Layer — GP Tools, GPServer, Knowledge Graph, SDI (WMS/WFS/WCS)</text>
      <rect x="60" y="680" width="1080" height="70" rx="18" fill="#f2f2f2" stroke="#d1d5db"/>
      <text x="80" y="720" font-size="18">Data & Registries — Parcels, Zoning, Socio‑economic, Mobility, LiDAR</text>
    </svg>
  </div>

  <h2>Diagram 2 — Detailed Data Flow</h2>
  <div class="diagram">
    <svg viewBox="0 0 1200 700" width="100%" height="420" role="img" aria-label="UPDA Detailed Data Flow Diagram">
      <rect x="50" y="60" width="1100" height="70" rx="12" fill="#e6f7ff" stroke="#93c5fd"/>
      <text x="70" y="100" font-size="18">1) Request Intake — User → Conversation Agent → Intent + Context</text>
      <rect x="50" y="150" width="1100" height="70" rx="12" fill="#f2eaff" stroke="#c4b5fd"/>
      <text x="70" y="190" font-size="18">2) Orchestrate — LangGraph selects workflow; MCP checks scopes</text>
      <rect x="50" y="240" width="1100" height="70" rx="12" fill="#ebf5eb" stroke="#86efac"/>
      <text x="70" y="280" font-size="18">3) Retrieve — RAG fetches zoning codes, policies, socio‑economic briefs</text>
      <rect x="50" y="330" width="1100" height="70" rx="12" fill="#e6f0ff" stroke="#93c5fd"/>
      <text x="70" y="370" font-size="18">4) Plan & Simulate — Planning Agent → FastAPI → GPServer & SDI layers</text>
      <rect x="50" y="420" width="1100" height="70" rx="12" fill="#ffffe6" stroke="#fde68a"/>
      <text x="70" y="460" font-size="18">5) GeoAI Checks — Vision Agent verifies overlaps, density, buffers</text>
      <rect x="50" y="510" width="1100" height="70" rx="12" fill="#fff0e6" stroke="#fdba74"/>
      <text x="70" y="550" font-size="18">6) Audit & Evidence — Audit Agent applies rules; compiles logs</text>
      <rect x="50" y="600" width="1100" height="70" rx="12" fill="#ecfdf5" stroke="#6ee7b7"/>
      <text x="70" y="640" font-size="18">7) Decision Pack — KPIs + maps + rule hits → Dashboard & Approver</text>
    </svg>
  </div>

  <footer>Aduri Sreenivas · MicroCenter Gulf · September 2025</footer>
</body>
</html>
